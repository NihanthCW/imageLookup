<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Parameter Viewer (a, b, c)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #0f172a;
      color: #e5e7eb;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .card {
      background: #020617;
      border-radius: 1.25rem;
      border: 1px solid #1f2937;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.75);
      max-width: 960px;
      width: 100%;
      padding: 1.5rem 1.75rem 2rem;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.75rem;
      border-bottom: 1px solid #1f2937;
      padding-bottom: 0.75rem;
      margin-bottom: 1rem;
    }

    h1 {
      font-size: 1.3rem;
      margin: 0;
    }

    .subtitle {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .controls {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    @media (max-width: 768px) {
      .controls {
        grid-template-columns: 1fr;
      }

      .card {
        padding: 1.25rem;
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      font-size: 0.85rem;
    }

    label {
      color: #9ca3af;
    }

    select {
      border-radius: 0.75rem;
      border: 1px solid #374151;
      background: #020617;
      color: #e5e7eb;
      padding: 0.4rem 0.6rem;
      font-size: 0.9rem;
      outline: none;
    }

    select:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 1px #6366f1;
    }

    .viewer {
      border-radius: 0.75rem;
      border: 1px dashed #374151;
      background: radial-gradient(circle at top left, #1f2937, #020617);
      padding: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 240px;
      position: relative;
      overflow: hidden;
    }

    .viewer img {
      max-width: 100%;
      max-height: 70vh;
      border-radius: 0.75rem;
      display: block;
    }

    .viewer-placeholder {
      font-size: 0.9rem;
      color: #6b7280;
      text-align: center;
    }

    .status {
      margin-top: 0.6rem;
      font-size: 0.8rem;
      color: #9ca3af;
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .pill {
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      border: 1px solid #374151;
      font-size: 0.75rem;
      color: #9ca3af;
    }

    .error {
      color: #f97373;
    }
  </style>
</head>
<body>
  <main class="card">
    <header class="card-header">
      <div>
        <h1>Parameter Image Viewer</h1>
        <p class="subtitle">
          Select values for <code>a</code>, <code>b</code>, and <code>c</code> to show
          the corresponding pre-rendered image.
        </p>
      </div>
      <div class="pill">
        Static Â· GitHub Pages ready
      </div>
    </header>

    <section class="controls">
      <div class="field">
        <label for="select-a">Parameter a</label>
        <select id="select-a"></select>
      </div>
      <div class="field">
        <label for="select-b">Parameter b</label>
        <select id="select-b"></select>
      </div>
      <div class="field">
        <label for="select-c">Parameter c</label>
        <select id="select-c"></select>
      </div>
    </section>

    <section class="viewer" id="viewer">
      <div class="viewer-placeholder" id="placeholder">
        Select any combination to load its image.
      </div>
      <img id="image" alt="" style="display: none" />
    </section>

    <section class="status" id="status">
      <span id="status-text">No image loaded yet.</span>
      <span id="status-path" class="pill"></span>
    </section>
  </main>

  <script>

    const aValues = [1, 2, 3, 4]; 
    const bValues = [1, 2, 3, 4, 5]; 
    const cValues = [1, 2, 3, 4, 5];    


    function populateSelect(select, values) {
      values.forEach((value) => {
        const option = document.createElement("option");
        option.value = value;
        option.textContent = value;
        select.appendChild(option);
      });
    }

    const selectA = document.getElementById("select-a");
    const selectB = document.getElementById("select-b");
    const selectC = document.getElementById("select-c");
    const imageEl = document.getElementById("image");
    const placeholderEl = document.getElementById("placeholder");
    const statusTextEl = document.getElementById("status-text");
    const statusPathEl = document.getElementById("status-path");

    populateSelect(selectA, aValues);
    populateSelect(selectB, bValues);
    populateSelect(selectC, cValues);

    // Helper to build the filename from a, b, c.
    // CURRENT PATTERN: images/a{a}_b{b}_c{c}.png
    function buildImagePath(a, b, c) {
      // If using imageMap:
      // const key = `a${a}_b${b}_c${c}`;
      // return imageMap[key];

      return `images/a${a}_b${b}_c${c}.png`;
    }

    function updateImage() {
      const a = selectA.value;
      const b = selectB.value;
      const c = selectC.value;

      const src = buildImagePath(a, b, c);

      if (!src) {
        imageEl.style.display = "none";
        placeholderEl.style.display = "block";
        statusTextEl.textContent = "No image mapped for this combination.";
        statusTextEl.classList.add("error");
        statusPathEl.textContent = "";
        return;
      }

      // Attempt to load the image; handle errors nicely
      const testImage = new Image();
      testImage.onload = () => {
        imageEl.src = src;
        imageEl.alt = `Image for a=${a}, b=${b}, c=${c}`;
        imageEl.style.display = "block";
        placeholderEl.style.display = "none";
        statusTextEl.textContent = `Showing image for a=${a}, b=${b}, c=${c}`;
        statusTextEl.classList.remove("error");
        statusPathEl.textContent = src;
      };
      testImage.onerror = () => {
        imageEl.style.display = "none";
        placeholderEl.style.display = "block";
        placeholderEl.textContent = "Image file not found for this combination.";
        statusTextEl.textContent = "Missing file. Check your image name or path.";
        statusTextEl.classList.add("error");
        statusPathEl.textContent = src;
      };

      testImage.src = src;
    }

    selectA.addEventListener("change", updateImage);
    selectB.addEventListener("change", updateImage);
    selectC.addEventListener("change", updateImage);

    // Load initial combo
    updateImage();
  </script>
</body>
</html>
